{% extends 'layouts/base.html' %}
{% import 'macros/roulette.html' as roulette %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-half">

  <style>
    .roulette {
      background: #1d70b8;
      box-sizing: border-box;
      padding: 20px;
    }
  </style>

      <div class="roulette">
          <span class="govuk-caption-xl" style="color: white;">Local plan data collector</span>
          <h2 class="govuk-heading-l govuk-!-margin-bottom-4" style="color: #fff;">Randomiser!</h2>
          <div class="govuk-!-text-align-left">
              <svg width="157px" height="186px" viewBox="0 0 157 186" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                      <g id="Group-2-Copy">
                          <circle id="Oval" fill-opacity="0.131829108" fill="#1D70B8" cx="78.5" cy="107.5" r="78.5"></circle>
                          <g id="Group" fill-rule="nonzero">
                              <circle id="Oval" fill="#C2D5F2" cx="147.5" cy="39.5" r="7.5"></circle>
                              <circle id="Oval" fill="#C2D5F2" cx="11.5" cy="36.5" r="7.5"></circle>
                              <polygon id="Path" fill="#D9C282" points="80 74 30 85 80 96 130 85"></polygon>
                              <polygon id="Path" fill="#D9BC6D" points="79 74 79 96 130 85"></polygon>
                              <path d="M82.739664,60 L74.261376,60 L74.261376,36.3028503 C74.2796422,33.9066453 76.1774222,31.9792624 78.50052,31.9975812 C84.4720591,31.9017627 89.246529,26.8475965 89.1845047,20.6877111 C89.1224803,14.5278257 84.2472697,9.57703487 78.2750893,9.60916736 C72.3029089,9.64129985 67.478035,14.6442807 67.478314,20.8044982 L59,20.8044982 C59.1650215,9.81749882 67.8469495,1 78.5,1 C89.1530505,1 97.8349785,9.81749882 98,20.8044982 C97.9376053,30.14251 91.5921606,38.1813155 82.739664,40.1372445 L82.739664,60 Z" id="Path" fill="#E66868"></path>
                              <circle id="Oval" fill="#E66868" cx="79" cy="74" r="5"></circle>
                              <polygon id="Path" fill="#BF9B39" points="81 95.4827586 81 161 27 145.275862 27 87.6206897 29.7 85"></polygon>
                              <polygon id="Path" fill="#D9B041" points="129.3 85 78 95.4827586 78 161 132 145.275862 132 87.6206897"></polygon>
                              <polygon id="Path" fill="#CCAB52" points="29.08 86 80 96.1818182 66.6 114 13 101.272727"></polygon>
                              <polygon id="Path" fill="#D9B657" points="129.92 86 79 96.1818182 92.4 114 146 101.272727"></polygon>
                              <path d="M25.0516216,147.950412 L77.7436429,163.888396 C78.2361189,164.040666 78.7630581,164.037041 79.2534274,163.87801 L79.2564836,163.888396 L131.948505,147.950412 C133.063184,147.613336 133.826597,146.57898 133.826686,145.405647 L133.826686,105.642714 L145.004455,102.825224 C145.925345,102.593197 146.651199,101.879566 146.904453,100.957221 C147.157707,100.034875 146.899188,99.0464817 146.227753,98.3699992 L130.420146,82.4320149 C130.056263,82.0726028 129.596373,81.8279119 129.096734,81.7278748 L129.100264,81.7108477 L97.4850512,75 L96.3993321,80.1984392 L115.769288,84.3100407 L78.5000633,92.2208327 L41.2308385,84.3100407 L60.6007153,80.1984392 L59.5149962,75 L27.8997834,81.7108477 L27.9031557,81.7267857 C27.4034374,81.8271362 26.9435845,82.0722243 26.579901,82.4320415 L10.7722946,98.3700258 C10.1008175,99.0465162 9.84228113,100.034949 10.0955555,100.957326 C10.3488299,101.879702 11.0747361,102.593341 11.9956716,102.82533 L23.1734409,105.642714 L23.1734409,145.405647 C23.1735295,146.57898 23.9369428,147.613336 25.0516216,147.950412 Z M28.442643,143.428965 L28.442643,106.970826 L64.6876929,116.106824 C65.7381264,116.371179 66.8420802,115.96124 67.4715178,115.073086 L75.8654622,103.224736 L75.8654622,157.772886 L28.442643,143.428965 Z M128.557484,143.428965 L81.1346643,157.773151 L81.1346643,103.224736 L89.5285033,115.07314 C90.157941,115.961293 91.2618947,116.371232 92.3123282,116.106877 L128.557484,106.970879 L128.557484,143.428965 Z M127.703293,87.2063178 L139.21181,98.8082938 L92.7743318,110.514079 L82.9859195,96.698025 L127.703293,87.2063178 Z M29.2968334,87.2063178 L74.0142861,96.698025 L64.2257947,110.514079 L17.788448,98.8082938 L29.2968334,87.2063178 Z" id="Shape" fill="#000000"></path>
                              <path d="M59.5882353,25.0262635 L68.0277976,25.0262635 C69.4572109,25.0261899 70.6159615,23.8323321 70.6160329,22.3596112 C70.5465083,18.8498335 72.5451373,15.6456435 75.6727263,14.2527509 C78.8003153,12.8598582 82.4349958,13.5552162 84.8687625,16.0120629 C87.3025292,18.4689096 88.0514685,22.1987425 86.7636396,25.4488421 C85.4758107,28.6989418 82.4072767,30.8230807 79,30.8230856 C75.2599536,30.8089009 72.2144634,33.9163979 72.1919835,37.7697148 L72.1919835,61.3333477 C72.1919835,62.8060991 73.3507759,64 74.7802188,64 L83.2210494,64 C84.6504923,64 85.8092847,62.8060991 85.8092847,61.3333477 L85.8092847,43.6212032 C94.7899046,40.6459107 100.911048,32.0784902 101,22.3596112 C100.835936,9.96173484 91.0344163,0 79,0 C66.9655837,0 57.1640642,9.96173484 57,22.3596112 C57,23.8323321 58.158822,25.0261899 59.5882353,25.0262635 Z M79,5.3331272 C88.2044301,5.2605022 95.7298951,12.8765187 95.8235294,22.3596112 C95.7332136,30.3817936 90.2754672,37.2757713 82.6662353,38.9793083 C81.4790233,39.2477494 80.6330508,40.3311628 80.6328141,41.5834542 L80.6328141,58.6666954 L77.3684541,58.6666954 L77.3684541,37.7696615 C77.3879776,36.8606024 78.1176161,36.1391364 79,36.1563902 C83.8240992,36.2185807 88.3078062,33.6026131 90.7374489,29.30831 C93.1670916,25.0140068 93.1670916,19.705189 90.7374489,15.4108858 C88.3078062,11.1165826 83.8240992,8.50061514 79,8.56280564 C72.5600203,8.54085293 66.9959548,13.194921 65.6935976,19.6929589 L62.3824682,19.6929589 C63.7648138,11.3617717 70.796631,5.28553613 79,5.3331272 L79,5.3331272 Z" id="Shape" fill="#000000"></path>
                              <path d="M86,73.5 C86,69.3578644 82.6421356,66 78.5,66 C74.3578644,66 71,69.3578644 71,73.5 C71,77.6421356 74.3578644,81 78.5,81 C82.6402622,80.9954807 85.9954807,77.6402622 86,73.5 L86,73.5 Z M76,73.5 C76,72.1192881 77.1192881,71 78.5,71 C79.8807119,71 81,72.1192881 81,73.5 C81,74.8807119 79.8807119,76 78.5,76 C77.1200304,75.9982095 76.0017905,74.8799696 76,73.5 L76,73.5 Z" id="Shape" fill="#000000"></path>
                              <path d="M142.605522,47.0509522 C142.830929,47.9671612 143.541852,48.6851835 144.455716,48.9196216 C145.369579,49.1540598 146.338314,48.8669289 146.97687,48.1723568 C148.998766,45.652266 151.868718,43.9543188 155.050803,43.3955828 C155.967071,43.1703383 156.685198,42.4593435 156.919638,41.5453092 C157.154079,40.6312749 156.866829,39.6623654 156.172108,39.0238457 C153.652142,37.0016573 151.953974,34.1315746 151.394504,30.9491948 C151.169409,30.0326921 150.458314,29.3144087 149.544182,29.0801695 C148.63005,28.8459302 147.661197,29.1337396 147.023156,29.8290703 C145.001091,32.3487648 142.131138,34.0462887 138.949197,34.6046666 C138.032929,34.829911 137.314802,35.5409059 137.080362,36.4549402 C136.845921,37.3689745 137.133171,38.3378839 137.827892,38.9764036 C140.347855,40.9985547 142.046033,43.8686015 142.605522,47.0509522 L142.605522,47.0509522 Z M147.718134,36.201004 C148.253854,37.45959 148.953235,38.6420062 149.798181,39.7176572 C148.539951,40.2544288 147.357722,40.954259 146.281866,41.7991685 C145.745866,40.5407321 145.046506,39.35836 144.201819,38.2825409 C145.460189,37.7460361 146.642453,37.0461767 147.718134,36.201004 L147.718134,36.201004 Z" id="Shape" fill="#000000"></path>
                              <path d="M1.25634158,39.6223109 C4.29519432,41.3168497 6.61364136,44.0591479 7.7790238,47.3374491 C8.18282384,48.2702556 9.06687323,48.9054623 10.0797959,48.9905985 C10.1565278,48.9973257 10.2332873,49 10.3100193,49 C11.2439206,49 12.11434,48.5272569 12.6228953,47.7440024 C14.3181482,44.705211 17.0602284,42.3861977 20.3383826,41.2189134 C21.2708097,40.8152842 21.9056215,39.931508 21.9903646,38.9190469 C22.0751077,37.9065859 21.5960429,36.9295866 20.743686,36.3765843 C17.704524,34.6830483 15.3858981,31.9410304 14.2209762,28.662797 C13.8175953,27.7297419 12.9334327,27.0943884 11.9204163,27.0096297 C10.9073999,26.924871 9.92994181,27.4044633 9.37710465,28.257512 C7.68235657,31.2961181 4.93998134,33.6144205 1.66161737,34.7798991 C0.729190294,35.1835283 0.0943785001,36.0673045 0.00963542091,37.0797656 C-0.0751076583,38.0922266 0.403957059,39.0692259 1.256314,39.6222282 L1.25634158,39.6223109 Z M11.259146,34.8998029 C12.0550292,36.1395997 13.0105513,37.2693202 14.1011222,38.2598915 C12.8609418,39.0553178 11.7310995,40.0108407 10.7408264,41.1017391 C9.94571995,39.8609477 8.99012243,38.7306651 7.89885022,37.7402444 C9.13892973,36.9452318 10.2687655,35.9901872 11.259146,34.8998029 L11.259146,34.8998029 Z" id="Shape" fill="#000000"></path>
                              <path d="M118.231029,55.9921499 C123.526059,51.3370257 130.048404,48.3433125 137,47.3773166 L136.257789,42 C122.796879,43.8445255 111.101897,52.2825137 105,64.5526526 L109.794174,67 C111.874616,62.8128145 114.740005,59.0742449 118.231029,55.9921499 L118.231029,55.9921499 Z" id="Path" fill="#000000"></path>
                              <path d="M49.0080453,73 L54,71.4558829 C49.4990073,57.7735073 37.5684684,47.6025692 22.9671753,45 L22,49.9808937 C34.7087624,52.2397369 45.0940343,61.0911616 49.0080453,73 L49.0080453,73 Z" id="Path" fill="#000000"></path>
                          </g>
                      </g>
                  </g>
              </svg>
          </div>
          <p class="govuk-body" style="color: #fff;">{{ counts.orgs }} planning authorit{{ 'y' if counts.orgs == 1 else 'ies' }} are missing an adopted local plan - TODO fix this</p>
          <div><a href="{{ url_for('main.randomiser', random='organisation') }}" class="btn govuk-!-margin-bottom-0 govuk-button app-button--inverted{% if counts.orgs == 0 %} govuk-button--disabled{% endif %}" id="spin"{% if counts.orgs == 0 %} disabled{% endif %}><span class="btn-label">Take me to one!</span></a></div>
      </div>

    </div>
    <div class="govuk-grid-column-one-half">

      <!-- <p class="govuk-body govuk-!-margin-bottom-1">
        <strong class="govuk-!-font-weight-bold govuk-!-font-size-36">{{ counts.no_geography }}</strong> plan{{ '' if counts.no_geography == 1 else 's'}} are missing a geography</p>
      <p class="govuk-body">
        {%- if counts.no_geography %}
          <a href="{{ url_for('main.randomiser', random='missing-geography') }}" class="govuk-button">Add a geography</a>
        {%- else -%}
          <button class="govuk-button govuk-button--disabled" disabled="disabled" aria-disabled="true">Add a geography</button>
        {% endif -%}
      </p> -->

      <p class="govuk-body govuk-!-margin-bottom-1">
        <strong class="govuk-!-font-weight-bold  govuk-!-font-size-36">{{ counts.no_documents }}</strong> plan{{ '' if counts.no_documents == 1 else 's'}} are missing documents
      </p>

      <p class="govuk-body">
        {%- if counts.no_documents %}
          <a href="{{ url_for('main.randomiser', random='no-documents') }}" class="govuk-button">Add a document</a>
        {%- else -%}
          <button class="govuk-button govuk-button--disabled" disabled="disabled" aria-disabled="true">Add a document</button>
        {% endif -%}
      </p>

      <p class="govuk-body govuk-!-margin-bottom-1">
        <strong class="govuk-!-font-weight-bold  govuk-!-font-size-36">{{ counts.review_documents }}</strong> plan{{ '' if counts.review_documents == 1 else 's'}} have documents to review
      </p>
      <p class="govuk-body">
        {%- if counts.review_documents %}
          <a href="{{ url_for('main.randomiser', random='review-documents') }}" class="govuk-button">Review documents</a>
        {% endif -%}
      </p>

    </div>
  </div>

  {{ roulette.scripts() }}

{% endblock content %}
